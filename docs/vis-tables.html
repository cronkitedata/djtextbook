<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Reporting - 23&nbsp; Report-making in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./vis-demo.html" rel="next">
<link href="./vis-reporting.html" rel="prev">
<link href="./assets/images/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="site_libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.27/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<script src="site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="site_libs/react-17.0.0/react.min.js"></script>
<script src="site_libs/react-17.0.0/react-dom.min.js"></script>
<script src="site_libs/reactwidget-1.0.0/react-tools.js"></script>
<link href="site_libs/reactable-0.4.3/reactable.css" rel="stylesheet">
<script src="site_libs/reactable-binding-0.4.3/reactable.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>


</head>

<body class="nav-sidebar floating">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./vis.html">Visualization</a></li><li class="breadcrumb-item"><a href="./vis-tables.html"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Report-making in R</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./assets/images/favicon.ico" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Reporting</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/cronkitedata/djtextbook" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./start.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reporting with data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./start-story.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Learn a new way to read</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./start-data-def.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Defining “Data”</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./start-data-document.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Documenting your work</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./start-hunt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Finding the right data for your story</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./start-build-own.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Build your own database</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./quickstart.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programming quick start</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-install.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Installing R and RStudio</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix-program.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">A gentle intro to programming</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-start.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Getting started with R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Using Quarto</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-data-import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Getting and saving data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-verbs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">A quick tour of verbs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./rdepth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Verbs of the tidyverse</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./start-tidy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Tidy data principles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./start-filter-sort-story.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Sorting and filtering to find stories</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-verb-filter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Verbs in depth: Select, arrange, filter</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-verb-mutate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Verbs in depth: New from old data with Mutate</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./start-groupby.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Summarizing detail into totals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-verb-groupby.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Verbs in depth: Aggregating with groups</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-verb-join.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Verbs in depth: Matchmaking with joins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./advanced-regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Regular Expressions for pattern matching</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./advanced-regex-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Inexact matching and regular expressions in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Recipes</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./vis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vis-reporting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Visualization as a reporting tool</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vis-tables.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Report-making in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vis-demo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Visualization demo</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vis-practice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Visualization exercise</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vis-maps-begin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Mapping: An introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vis-maps-firstmap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">The first map</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./advanced.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Special skills</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./advanced-pdf.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Working with PDF files</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./advanced-openrefine.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Open refine walkthrough</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./advanced-scrape1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Scraping without programming</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./advanced-scrape2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Introduction to scraping in R</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix-math.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Newsroom numbers cheat sheet</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix-filetypes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">File types in the wild</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix-ppp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Documentation for PPP data chapters</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">In this chapter:</h2>
   
  <ul>
  <li><a href="#interactive-tables-with-dt" id="toc-interactive-tables-with-dt" class="nav-link active" data-scroll-target="#interactive-tables-with-dt">Interactive tables with <code>DT</code></a></li>
  <li><a href="#interactive-tables-with-reactable" id="toc-interactive-tables-with-reactable" class="nav-link" data-scroll-target="#interactive-tables-with-reactable"><span class="header-section-number">23.1</span> Interactive tables with <code>reactable</code></a></li>
  <li><a href="#crosstabs-with-the-janitor-library" id="toc-crosstabs-with-the-janitor-library" class="nav-link" data-scroll-target="#crosstabs-with-the-janitor-library"><span class="header-section-number">23.2</span> Crosstabs with the <code>janitor</code> library</a>
  <ul class="collapse">
  <li><a href="#a-simple-one-way-table" id="toc-a-simple-one-way-table" class="nav-link" data-scroll-target="#a-simple-one-way-table">A simple one-way table</a></li>
  </ul></li>
  <li><a href="#static-tables-with-gt" id="toc-static-tables-with-gt" class="nav-link" data-scroll-target="#static-tables-with-gt"><span class="header-section-number">23.3</span> Static tables with gt</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Report-making in R</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>So far, we’ve focused on the input to data analysis, but not as much on the output. We’ve stressed the need for “tidy” data, but I would be willing to bet that your instinct is to turn it into what we might call a report – something that is easier to read and consume rather than easy to analyze.</p>
<p>You’ve already seen that it’s almost impossible to read a table of numbers using R’s default method of printing them out. There are several useful packages available to make better-looking charts of numbers that will be more useful for both a finished document and for your own understanding.</p>
<div class="alert alert-secondary">
<div class="alert-heading font-weight-bolder fs-3">
<p>What we want from tables and reports</p>
</div>
<ul>
<li>Numbers with formatting, such as percent, dollar signs and commas.</li>
<li>Automatic wrapping of cells so that you don’t have to scroll to find columns.</li>
<li>Totals and sub-totals shown on the same table as the detail.</li>
<li>Printable tables that summarize your data succinctly so that you can write from it, or….</li>
<li>Interactive tables with filtering, searching and sorting so you can explore it.</li>
<li>Automatically produce crosstabs with values, totals and percentages.</li>
</ul>
<div class="alert-heading font-weight-bolder fs-3">
<p>Libraries used in this chapter</p>
</div>
<p>Be sure to install the following packages before attempting to follow this chapter.</p>
<ul>
<li><code>reactable</code> , for interactive tables that can incorporate small graphic elements.</li>
<li><code>DT</code>, for interactive tables with a few different features, including selectable columns.</li>
<li><code>gt</code> and its cousin, <code>gtsummary</code> , for static tables with formatting, labelling and totals.</li>
</ul>
<p>You have already installed the <code>janitor</code> package, which has a function to create crosstab tables with values and percentages already computed.</p>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Number formatting
</div>
</div>
<div class="callout-body-container callout-body">
<p>There are a lot of ways to turn a big number into something readable in R. The problem is that most of these turn them into character, or text, columns. That’s ok if your data is already sorted in the order you want to see it. But it wrecks the ability to sort (<code>arrange</code>) – “$4” is seen as larger than “$10” as text because 4 comes after 1 in the alphabet. The formatting options in the tables below are difficult to implement, but maintain sortability. The same thing happens with dates.</p>
</div>
</div>
<p>Most of these packages will be demonstrated with a random sample of the PPP data we’ve worked with so far.</p>
<section id="interactive-tables-with-dt" class="level3">
<h3 class="anchored" data-anchor-id="interactive-tables-with-dt">Interactive tables with <code>DT</code></h3>
<p><code>DT</code> is a translation of a popular Javascript library called “datatable”. It, too, has difficult syntax because it is based on that language, not R. You can get a pretty usable table with just a few lines of code:</p>
<p>There are many more features of datatables, but this is often enough to get you started</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-1"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-1-1"><a href="#annotated-cell-1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="annotated-cell-1-2"><a href="#annotated-cell-1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-1-3"><a href="#annotated-cell-1-3" aria-hidden="true" tabindex="-1"></a>ppp_orig <span class="sc">|&gt;</span> </span>
<span id="annotated-cell-1-4"><a href="#annotated-cell-1-4" aria-hidden="true" tabindex="-1"></a> <span class="fu">select</span> ( borrower_name<span class="sc">:</span>borrower_city, date_approved, amount, forgiveness_amount) <span class="sc">|&gt;</span> </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-1-5" class="code-annotation-target"><a href="#annotated-cell-1-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">datatable</span>(</span>
<span id="annotated-cell-1-6"><a href="#annotated-cell-1-6" aria-hidden="true" tabindex="-1"></a>   <span class="at">options =</span> <span class="fu">list</span> ( </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-1-7" class="code-annotation-target"><a href="#annotated-cell-1-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">scrollX=</span><span class="cn">TRUE</span>,</span>
<span id="annotated-cell-1-8"><a href="#annotated-cell-1-8" aria-hidden="true" tabindex="-1"></a>                    <span class="at">pageLength =</span> <span class="dv">5</span></span>
<span id="annotated-cell-1-9"><a href="#annotated-cell-1-9" aria-hidden="true" tabindex="-1"></a>                )</span>
<span id="annotated-cell-1-10"><a href="#annotated-cell-1-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span>   </span>
<span id="annotated-cell-1-11"><a href="#annotated-cell-1-11" aria-hidden="true" tabindex="-1"></a> <span class="fu">formatCurrency</span>( <span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"amount"</span>, <span class="st">"forgiveness_amount"</span>), </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-1-12" class="code-annotation-target"><a href="#annotated-cell-1-12" aria-hidden="true" tabindex="-1"></a>                   <span class="at">digits =</span> <span class="dv">0</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-lines="5" data-code-cell="annotated-cell-1" data-code-annotation="1">Create a datatable.</span>
</dd>
<dt data-target-cell="annotated-cell-1" data-target-annotation="2">2</dt>
<dd>
<span data-code-lines="7" data-code-cell="annotated-cell-1" data-code-annotation="2">Turn on a left-right scrollbar and reduce the default number of rows shown.</span>
</dd>
<dt data-target-cell="annotated-cell-1" data-target-annotation="3">3</dt>
<dd>
<span data-code-lines="12" data-code-cell="annotated-cell-1" data-code-annotation="3">Format the two amounts as currency. <a href="https://rstudio.github.io/DT/functions.html">Other format options</a> exist for regular numbers and percentages.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-73744458e9a946482534" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-73744458e9a946482534">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275"],["JORDAN MACKNER","SURGERY CENTER MANAGEMENT SERVICES LLC","GYPSY LEAF COUNSELING SERVICES LLC","PEST PATROL","MESA COUNTRY CLUB INC","WAITE RESEARCH LLC","A NYAH PITTS","RONALD HUMPHREY","ENIS JASHARI","TIMOTHY HARRIS","WELL TRAVERSED LLC","ARMORED OUTDOOR GEAR INC","ERIC GRAHAM PLLC","WATERFALL CREATIONS LLC","PEASLEY INC LLC","KENNETH WENG","WIRELESS EXPRESS LLC","SPECIALTY AUTO FINDERS LLC","TRY DESIGN LLC","RADIANT HEALTH NAUTRAL MEDICAL CENTER","PRECISION INSTALLATION INC","SALLIEU SESAY","STEVEN E WRIGHT DDS","DOUGLAS FAMILY CARE LLC","CERTISTAR INC","MILE HIGH HOSPITALITY LLC","EVERGREEN PEST CONTROL LLC","DANG BROTHER ARIZONA LLC","PARKSIDETECH LLC","GARDNERS GALLERY","BRENBECKE INC","ADRIS BARBER AND BEAUTY SALON LLC","GYDHC INC","RANGO INC","Z ELECTRIC LLC","KIMBERLY TRAN","SHELLEY GARLEY","PC REPROGRAPHICS LLC","GEOFFREY BOADU","MINDFUL MASSAGE LLC","EMBASSY TIRE AND WHEEL LLC","VALENCIA WASHINGTON","DANIVILLA LLC","TICKETS UNLIMITED INC","CS CORE LLC","VICTORY CROSSING LLC","BRET ISBELL PLLC","REMEDIA PUBLICATIONS INC","RJEN LLC","TRANSPORTE SAGASTUME","DOUBLE S STEAKHOUSE LLC","HAPPY HOME CARE LLC","JOHN ROBERTS ARCHITECTS","MELISSA MILLER","VALENTINE FINANCIAL SOLUTIONS","INTEGRATED PHYSICAL THERAPY INC","CELLAR DOOR SALON","TRENTON MAGUIRE","SWPT ANESTHESIA PC","PATTON EMPIRE LLC","ARIZONA CORPORATE EVENTS INC","ARIZONA NEURORECOVERY TREATMENT INNOVATION CENTER LLC","POOLCAREONE LLC","NAJIBULLAH AHMADI","JOESPH B OWENS LLC","JUST WEDDINGS DJ SERVICE","PITCO LTD","DENALI NAILS EYEBROW THREADING","ARIZONA CAMERA RENTALS LLC","DESERT FOOTHILLS ACCOUNTING TAX BLAKE COMISH CPA LLC","CONTESSA CASTANEDA","JERRY ULIBARRI","SONORA TACOS Y MARISCOS INC","LOCKETT VENTURES LLC","SCIENTIFIC COMMODITIES INC","SUE SONS TESTING LAB LLC","BATES PAVING AND SEALING INC","EFFECTIVE SOLUTIONS LLC","S L CLEANING SYSTEMS LLC","NICHOLE KENNELLY","NTEGRATE IT ADVISORS LLC","RWSW HOLDINGS INC","KENZIE KEYES","RAMINDERPAL SINGH GULATI DBA GUADALUPE MARKET","JOSEPHUNGER INC","MOBILE LOCK KEY LLC","STRENGTH OF AMERICA INC","YOUR MEDICARE HELPER LLC","ROBERT CROCKETT","VIKRAM BADRINATH PC","ANGELA BENFER","CITY WIDE ROOTER SERVICE CO","VIDEO CONVERSION EXPERTS INC","DEONTE BALL","ELLIXSON HOLDINGS LLC","EVANGELINA LEYVA","WILLIAM GREGOR","49ER MINERALS INC","FINEDREADLOCS LLC","ENCHANTED HOME MONTESSORI SCHOOL LLC","BEYOND THE CLIPPER LLC","DARRIUS BROWN","SEAN W MCKENNA","SHERLOCK CUSTOM HOMES LLC","DC FAMILY PLUMBING LLC","THE EPISCOPAL PARISH OF ST BARNABAS ON THE DESERT","RANDALL S PRUST MD PC","1ST AUTOS LLC","THE WELLNESS TREE PLC","TEMPE DESERT PROPERTIES LLC","VETTAZ BETTA","SOMMER DENTAL CARE PC","KRYSTAL CORRADINO","JAMIE LAURENSON","TIGER A LLC","DAVID MCINTYRE","ALLEGIANT HEALTHCARE WEST LLC","D AND M NELSON ENTERPRISES LLC","POLISH ME PRETTY SALON AND SPA LLC","JJG RESTAURANTS INC","JASON SCOTT COLLECTIONS INC","DONALD HECKLE","ARM OF SAVE THE FAMILY FOUNDATION","SIGIFREDO MARRUFO","ALEATHER JACKSON","MARLA CLEMIT","ASHIA STEVENS","RDK CPA LLC","ABDUL AMUSAN","BRIANNA TORREZ","FELICITA MORALES","ROSS HURT","GORDIAN SEMICONDUCTOR PACKAGING LLC","JOSHUA SCHACHTER","MAA SHAKTI LLC","HEAVENLY CAKE POPS LLC","JC BUSINESS CONSULTING LLC","DAVID P LYONS","DYNAMITE FITNESS","MORE SERVICES CPA PLLC","WILLIAMS DECOMMISSIONING AND PROJECT MANAGEMENT SERVICES","DKA INC","STARLING MADISON LOFQUIST INC","FOX BUTTE GROWERS","MARY MARGARET HURTADO","FRENCH RADIANCE ESTHETICS LLC","WESTERN MOUNTAIN MEDICAL CENTER PC","GLORIA GOMEZ DE LOS RIOS","SKY ISLAND ALLIANCE","PDLLC","DYNAMIC WATER TECHNOLOGIES LLC","ADAB LLC","ACCUSERVE TRANSPORT LLC","SHADII CO","GOLD STAR PUMPING INC","DOCTOR SMILES ORTHODONTICS PLLC","FLETCHER HEIGHTS DENTAL CARE PC","DAVES COLLISION SPECIALISTS","WHEELER AIR CONDITIONING INC","AFFILIATED AUDIOLOGY CONSULTANTS INC","CENTERED SOUL COUNSELING LLC","JOSEPH HATCH","METRO STUDIO","CAMEON ELAM","HERMAN LEE","GIGI BRIDAL LLC","SAIDAH THOMAS","PHOENIX FIRE RESTORATION LLC","LASALA MEDICAL LLC","KYMBERLI MILLER","MAJOR CATTLE COMPANY LLC","DREAM CATCHER ASSISTED LIVING HOME LLC","SIA BOTANICS LLC","MISHKA LLC","DEANNA PETERS PLLC","TENANTS ASSISTANCE PROGRAM","SIGMA COLLEGE UNIVERSITY TRADE SCHOOLS","AMANA TRADING LLC","WILLIAMS AVIATION CONSULTANTS INC","SHANER INSURANCE GROUP INC","NUVISION EXCEL PLLC","SKY CORNER STUDIOS","POWER QUALITY INCORPORATED","SPITTFIRE EXPRESS LLC","JJI LIMITED LIABILITY COMPANY","STACEY D MCCLURE MD PLLC","JOURDYN WILLIAMS","HOPI TRIBE ECONOMIC DEVELOPMENT CORPORATION","SHAWNA MARIE FOSTER","INNOVATIVE DESIGN BUILD LLC","DJB ANESTHESIA SERVICES","GROOVE BABE TIE DYE","OSCAR GURROLA PIEDRA","MESA HISTORICAL SOCIETY INC","MESA RENTAL CENTER","CHANDLER FLOWERS INC","PEAK CONTRACTING LLC","ROBERT JONES","ARIEL STAFFORD","BIRKETT HALBERT APPRAISERS","ARIZONA DISPENSING SPECIALISTS LLC","CITRUS VALLEY DENTAL CARE","BRETT HUDNELL","MITCHELL TACKETT","ELBASAN INC","HAROLD WIDEMAN","VA CARE","TALAS HARBOR AT BULLHEAD CITY","DENALI REAL ESTATE LLC","CONTACT ELECTRIC LLC","MR CLEAN LLC","RS FLEET SOLUTIONS","ALTRUISTIX NURSING SERVIC","ACCLAIMED STAFFING LLC","HUE NGUYEN","DAVE RICE UPHOLSTERY","FRANK PARISE CPA PLLC","HUNTER MATTHEW PEEK PLLC","ROBIN SMITH","THAIRAPY SALON LLC","MICHELLE ORTIZ","SPF RETAIL LLC","CREATIVE WORKS CONSULTING LLC","AG FOODS LLC","THOMAS BART ENTERPRISES INC","TERENCE PERKINS","SONIC DRIVEIN GLENDALE AZ GLENDALE AVE LLC","GARY GERMANY","BRENDAN HANARD","J BRIDAL BOUTIQUE LLC","KM LEADERSHIP SOLUTIONS LLC","TS FINANCIAL AND TAX SERVICES","POLLY GWEN BLACKWELL PLLC","HAPPY LEARNERS LLC","DALVIN WILLIAMS","WENJOY LLC","TUCSON HOP SHOP","WE MEAN TO CLEAN LLC","ALEXUS DIBRELL","PURPLE VENTURES III LLC","ARIZONA CHILD PSYCHOLOGY CTR","MICHELLE BEFFRE","MICHAEL R GRASSMYER","JEREMY CASTILLO","LETSON PARTNERS LLC","AGAPE WELLNESS LLC","JHC CUSTOM LLC","STEVECOLBETHCOM LLC DBA TS4MO","PAUL STILLMAN CONSULTING","RM GARRISON MACHINING VALLEY MACHINE WORKS","AVA FITZLOFF","BRICE WILTGEN DC PLLC","H2OLOGY INC","TATUM INSURANCE LLC","PRECISION SPINE SPORTS REHABILITATION","CARLA WHITTEN ANDREW WHITTEN PC","VICTOR RILLING","KRYSTLE HAMPTON","HARTE MASONRY INC","MMP GROUP LLC","ANIMAL SPECIALTY GROUP OF SCOTTSDALE PLC","DAVID TOOVEY","MORRISON CONSULTING LLC","GENE THIEL","BROTHERS POOL SERVICE REPAIR LLC","THE JOURNEY OF ME LLC DBA ANNETTE HILL LPC","DEREK PEREZ MEDIA LLC","FAITH BUILDERS INTL MINISTRIES OF PHOENI","BREADS AND FRIENDS LLC","TEE JAY PETROLEUM LLC","ADRIANNA DOUGLAS","CHRISTOPHER D SOTO PLC","LU PRACTICE PLLC","ONYX INTEGRATIVE MEDICINE AND ACUPUNCTUR","MT ARTS LLC"],["3032 E Pinchot Ave","4711 E Falcon Dr","25 El Camino Real Ste 4","Po Box 10673","660 W Fairway Dr","375 E Elliot Rd Ste 25","3800 N El Mirage Dr Apt 3618","2680 E Cedar Pl","4019 N 81st St","11120 W Van Maurice 104140","2612 W Ivanhoe St","2201 N Gemini Dr Ste 134","17304 E Tejon Dr","4438 E Skyline Dr","506 N Newton St","12630 N Sumac Dr","8024 N 35th Ave","8716 W Thunderbird Rd","6558 E 2nd St","1355 S Higley Rd 113","8201 S 48th St","1811 N 77th Dr","95 Soldiers Pass Rd Ste C","1906 E 11th St","700 E Baseline Road Suite C1","7255 E Hampton Avenue Suite 122","19420 N 59th Ave Ste B249","1020 E Redondo Dr","301 W Deer Valley Rd Suite 2","17999 W Glenrosa Ave","7902 N Glen Harbor Blvd Ste 1","3628 W Mcdowell Rd Suite 2","3352 E Virgil Dr","4215 E Mcdowell Rd","11441 N 24th St","125 E Fry Blvd Suite 5","4232 N 69th Ln","16674 N 91st St Ste 104","34000 N 27th Dr Unit 3070","5320 N 16th St Ste 209","6500 S 6th Ave","1525 E Cheryl Dr Apt 2111","2367 S Aztec Point Trl","7116 E 1st Ave Ste 101","455 N 3rd St Suit 1145","4521 E Encinas Ave","14417 N 67th St","9316 E Raintree Drive","1551 S 2nd Ave","5955 W Peoria Ave 5566","1201 W Rex Allen Dr","4550 N Black Canyon Hwy","17213 E Fort Verde Rd","5675 N Oracle Rd Ste 3202","4820 West Shannon Court","20815 N 25th Pl","2501 W Happy Valley Rd","11336 E Broadway Rd","14301 N 87th St Ste 102","101 North Colorado Street Suite 1233","4458 E Marshall Ave","2812 N Norwalk Ste 119","3438 E Contessa Cir","4410 W Union Hills Dr","7013 W Verde Ln","27524 N 58th Lane","6730 N Scottsdale Rd Ste 270","1124 Thatcher Blvd","15745 N Gil Balcome","922 North Beaver Street","510 E Mckellips Rd Apt 203","1654 E Mia Ln","1601 Industrial Blvd","4839 E Mulberry Dr","2800 Sweetwater Ave Ste A105","P O Box 87","3225 E 44th Street","7527 North Via De La Campana","5615 S Vista Grande","309 W Route 66","9622 W Ross Ave","7051 E 5th Ave Ste F","3641 N 307th Dr","8207 S Avenida Del Yaqui","5157 N Tigua Dr","5425 E Broadway Blvd 314","3048 N Ravine","544 S 6th St Ste 105","811 S 1st Ave","100 North Stone Avenue Suite 302","4525 N 66th St Unit 58","401 W Orion St","1490 S Price Rd Ste 115g","1350 W Van Buren St","1809 S Holbrook Ln","2154 S Walnut Ave B","3133 W Dahlia Dr","1903 N 74th St","6530 W Glendale Ave","5452 W Whispering Wind Dr","2444 E Mcdowell Rd","6230 W Berridge Ln","2620 N 40th St Apt 28","14040 N Cave Creek Rd Ste 301","613 N Granite","6715 N Mockingbird Lane","4747 East Camp Lowell Drive","7045 E Main St Ste 2","3210 S Gilbert Rd Suite 1","7641 E Minnezona Ave","464 S 202nd Ln","29605 N Cave Creek Rd Ste 104","1942 W Larkspur Dr","22280 S 209th Way Apt 110","2806 W Avion Way","15238 S 47th Street","3120 East Broadway","1313 E Third St","6438 S Mcclintock Dr","3810 S Star Canyon Dr","3920 West Clarendon Ave","5037 W Gardenia Ave","125 E University Dr","1540 W Main St","619 E Jensen St Unit 35","7812 E Lee St","27529 W Highway 84","6239 East Brown Road Suite 115","13421 N 43rd Ave","1332","6223 E 25th Pl","6735 E Greenway Pkwy","1143 E Tekoa Ave","634 North Jacobus Ave","1500 E Route 66","17618 W Eugene Ter","2849 E Cortez St","20653 North 56th Avenue","7810 N Us Hwy 89","3928 E Half Hitch Pl","24911 N 88th Lane","33725 N Scottsdale Rd H120","5224 S 39th St","Po Box 307","7965 W Surrey Ave","3886 N Evergreen St","3015 Highway 95 Suite 107B","8665 E Stearn Lake Dr","406 S 4th Ave","545 N Arizona Ave","14550 N Frank Lloyd Wright Blv","725 W Apache Trail Suite 3 B","1916 N 32nd St Unit 107","2060 W Whispering Wind Dr Ste 274","10001 N Silverbell Rd","801 N Wilmot Rd Suite A1","8272 W Lake Pleasant Pkwy","850 W Cottonwood Ln","2043 S Constellation Ct","4545 E Shea Blvd Ste 174","4539 N 22nd St Ste 207","460 S Greenfield 5","2634 Toho Trail","10383 W Primrose Dr","5146 N 18th St 5146 N 18th St","5460 E Broadway Blvd Ste 326","5247 N 42nd Dr","1240 N Mondel Dr","7609 E Pinnacle Peak Rd Suite 9","13756 W Watson Ln","11835 North Cielo Grande","5449 East Crocus Drive","3501 E Kleindale Rd","18308 W Thistle Landing Dr","20218 29th Pl","1200 W 6th St","3601 N 7th Ave","2507 N 1st Ave","18521 E Queen Creek Rd 105491","Ste 165 3275 W Ina Rd","10639 N 32nd St","2432 Peoria Ave W","642 E 39th Pl Suite 5","11762 W Windrose Ave","6936 E Main St","2730 W Agua Fria Fwy Ste 103","4237 W Park St","5200 E Cortland Blvd Ste E2007","4637 W Buckskin Trail","2015 N 50th St Unit 22","6550 South Bogle Chandler Az 85249","4503 S Terrace Rd","1812 N 46th Ave","2345 N Horne","3716 E Main St Bldg 1","245 N Arizona Ave","7314 E Rovey Ave","14852 N 24th Dr Unit 8","16602 N 25th St Apt 114","15 E Cherry Ave Suite 205","2730 Jones Ave","215 S Power Rd Ste101","107 W Pinon Cir","201 S Briar Cir","6030 W Behrend Dr Suite 115","2990 W Thunderbird Rd","7954 S Lennox Ln","831 Landon Dr","3740 E Southern Avenue Suite 205","1720 East Saint Charles Avenue","3148 W Covey Ln","1195 S Main St","245 S Plumer Ave Suite 38","2820 S Alma School Rd","15850 N Cave Creek Rd 1","13200 N 113th Ave","6011 N Desert Sun Ct","7426 E Stetson Dr Unit 3017","792 E Pepper Dr","14940 W Indian School Rd Ste 480","235 N Eliza Ln Apt 70","6161 S 35th Ave","1020 S 4th Ave Ste 209","520 W Sheldon St","8900 E San Victor Dr","623 S 122nd Avenue","6501 Glendale Avenue","832 E Jones Ave Apt 4217","2709 E Cholla St","2840 E Skyline Dr Ste 150","4621 East Mountain View Road","6924 E Speedway Blvd Unit 4","1007","3111 Pecos Rd E","1030 W 5th St Apt 4","29624 N 46th Street","3230 N Dodge Blvd Suite 154","11201 N Tatum Blvd","3939 W Windmills Blvd","6000 E Camelback Rd","1825 E Northern Ave 161a","16557 Naz Hwy 87 Spc25","4631 W Tierra Buena Ln","2410 E Sahuarita Rd","26 Main Street","89 S Marin Dr","4840 West Onyx Avenue","556 W Jasper Dr","12505 N Fallen Shadows Dr","1138 W Watkins St","3654 N Power Rd Ste 103","15288 W Brookside Ln Ste 139","215 N Pasadena St","8687 Via De Ventura 118","4862 E Baseline Rd Ste 108","8232 E Thorntree Dr","201b W Gibson Ln","9740 E Hampton Ave","6432 W Wagoner Rd","3741 E Azalea Drive","7410 E Pinnacle Peak Rd Ste 11","4218 W Flower St","10840 S Madero St","5650 East 8th Street","16211 N Scottsdale Rd A6a 501","4545 E Shea Blvd Ste 235","6800 E Mayo Blvd Apt 3109","949 East Bell Road","4929 W Ray Rd Ste 1","1990 S Alma School Road","11275 N 99th Ave Lot 73","4500 S Lakeshore Dr Ste 560","2490 W Ray Rd","1450 W Guadalupe Rd Ste 115 Bldg 2","440 West Nuttal Ave"],["Phoenix","Mesa","Sierra Vista","Glendale","Mesa","Chandler","Avondale","Chandler","Scottsdale","Avondale","Chandler","Flagstaff","Fountain Hills","San Tan Valley","Williams","Fountain Hills","Phoenix","Peoria","Scottsdale","Gilbert","Phoenix","Phoenix","Sedona","Douglas","Tempe","Mesa","Glendale","Tempe","Phoenix","Goodyear","Glendale","Phoenix","Gilbert","Mesa","Phoenix","Sierra Vista","Phoenix","Scottsdale","Phoenix","Phoenix","Tucson","Phoenix","Tucson","Scottsdale","Phoenix","Gilbert","Scottsdale","Scottsdale","Tucson","Glendale","Willcox","Phoenix","Rio Verde","Tucson","Chandler","Phoenix","Phoenix","Mesa","Scottsdale","Chandler","Gilbert","Mesa","Mesa","Glendale","Phoenix","Phoenix","Scottsdale","Safford","Surprise","Flagstaff","Mesa","Gilbert","Lake Havasu City","Phoenix","Lake Havasu City","Chandler","Tucson","Scottsdale","Phoenix","Williams","Peoria","Scottsdale","Buckeye","Guadalupe","Tucson","Tucson","Mesa","Cottonwood","Phoenix","Tucson","Scottsdale","Tempe","Chandler","Phoenix","Tempe","Yuma","Phoenix","Scottsdale","Glendale","Glendale","Phoenix","Glendale","Phoenix","Phoenix","Gilbert","Paradise Valley","Tucson","Mesa","Chandler","Scottsdale","Buckeye","Cave Creek","Phoenix","Queen Creek","Laveen","Phoenix","Mesa","Winslow","Tempe","Gilbert","Phoenix","Glendale","Mesa","Mesa","Mesa","Tucson","Casa Grande","Mesa","Phoenix","Mesa","Yuma","Scottsdale","Gilbert","Tucson","Flagstaff","Surprise","Phoenix","Glendale","Flagstaff","Phoenix","Peoria","Scottsdale","Phoenix","Stanfield","Peoria","Buckeye","Bullhead City","Tucson","Tucson","Chandler","Scottsdale","Apache Junction","Phoenix","Phoenix","Tucson","Tucson","Peoria","Casa Grande","Gilbert","Phoenix","Phoenix","Mesa","Flagstaff","Avondale","Phoenix","Tucson","Phoenix","Gilbert","Scottsdale","Surprise","Prescott","Scottsdale","Tucson","Goodyear","Phoenix","Tempe","Phoenix","Tucson","Queen Creek","Tucson","Phoenix","Phoenix","Yuma","El Mirage","Scottsdale","Phoenix","Phoenix","Flagstaff","Phoenix","Phoenix","Chandler","Tempe","Phoenix","Mesa","Mesa","Chandler","Scottsdale","Phoenix","Phoenix","Flagstaff","Phoenix","Mesa","Payson","Mesa","Glendale","Phoenix","Tucson","Bullhead City","Mesa","Phoenix","Phoenix","Snowflake","Tucson","Chandler","Phoenix","Youngtown","Tucson","Scottsdale","Casa Grande","Goodyear","Thatcher","Phoenix","Yuma","Prescott","Scottsdale","Avondale","Glendale","Phoenix","Phoenix","Tucson","Phoenix","Tucson","Phoenix","Gilbert","Tempe","Cave Creek","Tucson","Phoenix","Chandler","Scottsdale","Phoenix","Payson","Glendale","Sahuarita","Bisbee","Gilbert","Glendale","Chandler","Marana","Phoenix","Mesa","Surprise","Gilbert","Scottsdale","Mesa","Scottsdale","Phoenix","Mesa","Glendale","Chandler","Scottsdale","Phoenix","Yuma","Tucson","Scottsdale","Phoenix","Phoenix","Phoenix","Chandler","Chandler","Peoria","Tempe","Chandler","Gilbert","Colorado City"],["2020-04-29","2021-03-13","2021-04-17","2020-05-26","2020-04-09","2021-02-20","2021-04-10","2021-05-20","2021-04-13","2021-05-26","2020-05-08","2021-02-12","2020-05-01","2020-04-28","2021-02-11","2021-04-05","2021-04-10","2021-05-07","2020-05-01","2020-04-15","2020-04-07","2021-04-16","2020-04-29","2021-03-26","2020-04-15","2020-04-09","2020-05-01","2021-02-20","2020-04-27","2021-04-30","2021-03-17","2020-08-01","2021-01-25","2020-04-13","2021-03-24","2020-05-01","2021-04-28","2021-02-10","2021-04-24","2021-01-20","2020-04-30","2021-04-04","2020-05-10","2021-01-28","2020-05-01","2021-02-01","2021-02-12","2020-04-11","2020-04-14","2021-03-20","2021-01-19","2021-03-12","2020-04-09","2021-02-18","2020-05-06","2020-04-28","2020-05-04","2021-05-22","2021-01-21","2020-04-30","2021-01-20","2020-05-01","2020-06-22","2021-03-27","2020-05-13","2020-05-11","2020-05-01","2020-05-01","2020-04-30","2020-04-15","2021-04-27","2021-03-09","2020-05-01","2020-07-07","2020-05-01","2020-05-01","2020-05-01","2020-05-04","2021-01-30","2020-05-01","2020-04-15","2020-05-01","2021-05-27","2020-05-01","2020-05-01","2020-05-01","2021-02-02","2020-05-01","2021-03-23","2020-04-28","2021-04-23","2021-01-20","2020-05-01","2021-04-20","2020-05-21","2021-04-18","2021-04-28","2020-05-01","2021-05-21","2020-05-01","2021-04-30","2021-03-28","2021-04-29","2021-03-17","2020-05-01","2020-04-08","2020-04-14","2021-02-12","2020-04-11","2021-03-06","2021-05-20","2020-06-12","2021-04-17","2021-04-11","2021-02-03","2020-05-18","2020-04-27","2021-04-14","2020-05-01","2021-01-25","2020-06-25","2021-03-16","2020-05-01","2021-04-19","2021-02-14","2021-04-26","2021-05-07","2020-05-01","2021-04-13","2021-05-22","2021-04-23","2021-04-13","2021-03-26","2020-05-05","2021-01-30","2020-04-15","2021-01-21","2020-04-27","2020-04-30","2021-01-21","2020-07-20","2020-07-28","2020-05-01","2020-05-01","2021-03-28","2020-05-01","2020-04-15","2021-03-10","2020-05-01","2020-05-14","2020-05-01","2020-04-13","2020-04-15","2020-04-28","2020-04-29","2020-04-08","2020-04-28","2021-02-12","2020-06-12","2020-04-28","2021-03-24","2020-05-01","2020-05-28","2021-04-18","2021-03-06","2020-05-04","2021-04-06","2021-03-12","2020-04-16","2021-04-19","2020-04-28","2020-04-15","2021-02-26","2021-02-06","2020-06-03","2020-05-01","2021-01-22","2021-03-18","2020-05-01","2020-05-14","2021-01-21","2020-05-01","2020-05-02","2020-05-01","2021-03-12","2020-07-30","2021-03-27","2020-04-29","2020-05-01","2021-04-29","2020-04-14","2020-05-01","2021-04-24","2020-05-01","2020-05-08","2020-05-04","2021-02-05","2021-04-20","2021-03-13","2020-05-31","2020-04-30","2020-05-01","2021-05-22","2021-04-23","2020-05-01","2021-04-23","2020-05-14","2021-02-04","2020-05-01","2020-06-03","2020-05-01","2020-05-28","2020-04-28","2021-03-08","2020-04-30","2020-05-02","2021-01-27","2020-04-13","2021-04-18","2020-05-01","2021-03-23","2021-03-23","2020-08-04","2020-04-15","2021-02-24","2021-05-22","2020-04-28","2021-04-24","2021-05-11","2020-05-01","2020-05-07","2021-04-11","2021-01-31","2020-07-29","2021-05-20","2020-04-07","2020-04-08","2020-05-15","2021-05-11","2021-01-21","2020-04-30","2021-03-28","2021-02-25","2021-05-22","2020-05-01","2021-04-10","2020-05-08","2020-06-03","2020-04-30","2021-02-17","2021-04-24","2021-02-24","2021-02-07","2020-04-28","2020-05-01","2020-05-06","2021-02-26","2021-02-08","2020-04-27","2020-04-13","2020-05-01","2021-05-13","2020-04-15","2020-05-15","2020-04-28","2020-05-01","2021-04-20","2020-05-21","2020-05-30","2020-04-14","2021-05-20","2020-05-01","2021-01-25","2021-03-20","2020-04-13"],[23900,142500,3257,21000,469900,9520,8332,6715,13816,20832,5491,87000,14165,18526,2449,20052,45099,6770,16185,27976,461800,939,34130,49527,52812,194297,76808,9977,68425,41666.65,355906,4100,40907,5785868.4,24112,1285.97,5327,13800,3992,7360,115182,20000,3325,74590,32285,12777,20832,39755,98700,4655,63423,201600,17400,6392,8750,36700,5160,13541,62962,6547,36465,31623,7590,16972,45800,4563,55780,2875.28,11875,28500,15625,20832,49198,13204,61292,23640,311713,11605,4542,1559.28,31350,617816,15625,22215,8332,32002,9807,17500,20833,26099.58,20833,43300,33722,20832,20833,3729,20833,8750,20406,13800,6986.45,19791,20833,28130,26593,240900,280861.6,5000,73155,5186,11457,26337,8250,14165,2471,4832,2232000,8632,21125,90004.69,12500,15361,22310,17083,20127.5,3447,5996,20833,18125,20833,500,1441,20832,4092,15841,10000,7337,5839.6,12400,6250,36000,42804,405935,56575,22130,2092,165000,2938,102932,4381,145890,183300,4200,92195.91,29550,70000,101916,95932,312915,68600,4166.67,13500,15905,20437,16875,10908,20416,68557,8120,29166,18941,37928,72144.6,10417,1296,16327,526500,23209,29052,12336.54,27875,45873,15098,2065,197480,35617,9375,340900,7400,20757,45000,3012,20800,32792,22000,3808,13845,20833,6250,7180,29845,24300,8750,14697,75000,18750,3343,263019,85587,28332,10000,5608.95,81713,15635,4271.67,11507,20832,1200,19375,6752,1759,138202,20900,106000,31500,20833,87800,20832,15979,27100,9709.3,20832,1785,90947,20447,243800,49510,42500,20002,35968,10563.34,6250,20822,18000,14600,20800,2483,5255,3300,228300,10158.34,15062,71900,38400,20833,12500,85300,20812.5,55193.92,86400,103562,10995,26962,9187,10200,10812.5,3500,11288,7185,73200,18343,57567,52100,20832,22600],[24180.16,143861.67,3269.03,21182.58,472758.02,9567.86,8363.01,6734.4,13875.81,20918.22,5545.61,87798.49,14289.16,18663.55,2462.96,0,45295.68,6853.85,16351.54,28277.22,465840.75,951.81,34404.91,49782.89,53115.85,195732.64,77576.08,10010.26,69021.82,41807.06,357641.65,4147.72,41263.4,5851494.41,0,1294,5364.36,13880.15,4009.94,7388.01,116671.48,20129.44,3349.32,75097.63,32559.2,12928.9,20925.6,40078.49,99240.11,4682.54,63733.07,202893.6,17560.47,6454.52,8797.47,37179.14,5229.27,13565.11,63341.5,6634.35,36707.77,29951.06,7682.56,17058.27,46473.82,4592.63,56236.94,2899.39,12035.97,28703.79,15665.24,21006.76,49851.73,13289.83,61825.92,23854.94,314633.71,11843.46,4581.11,1577.65,31679.17,624576.97,0,22538.54,8427.59,32264.15,9908.03,17702.94,0,26295.33,20860.78,43587.46,34045.36,20941.01,21016.79,3741.97,0,8829.08,20578.88,13950.65,7025.26,19864.12,20923.75,28519.77,26998.82,242365.2,282361.49,5071.78,73856.07,5213.28,11498.37,26638.61,8344.71,14231.1,0,4881.11,2265877.48,8690.51,21298.05,90784.73,12619.18,15455.73,22508.04,17134.48,0,0,6031.48,21001.95,0,20875.81,501.38,1461.45,20968.41,4133.37,15976.84,10063.89,7393.69,5890.05,12524.34,6285.45,36209.1,43119.46,408465.55,57233.75,0,0,165980.96,2954.74,103531.64,4438.25,147470.64,184506.73,4236.71,3107.34,29811.02,70750.56,102943.54,0,315531.32,69492.74,4177.09,4861.36,14784.47,20706.88,17016.47,11003.03,0,69014.24,8242.36,29280.23,19113.8,38426.78,72775.26,10476.65,1319,16485.67,0,23346.32,29288.47,0,28019.02,46558.55,15299.86,2086.27,198367.31,36156.08,9425,342992.1,7461.63,20866.55,45325,0,20936.36,32977.68,22234.47,3840.03,13925.41,0,6288.19,0,30179.43,24618.9,8811.01,14771.71,75667.62,18839.38,3363.52,265999.88,86424.11,28779.1,10096.64,5653.82,82680.12,15762.22,4304.79,11622.71,20946.72,1208,19502.4,6840.41,1774.66,138754.81,21016.45,106757.97,31767.75,20931.17,88699.95,20930.17,0,27341.24,9792.37,0,1792.44,91672.05,0,246535.98,49911.58,0,20059.23,36415.38,10635.98,6281.25,0,0,14700.4,0,2512.8,4277.62,3321.97,229910.78,10232.37,15139.58,72423.98,38657.75,21060.74,12602.74,85844.97,20908.47,55670.73,87264,104562.81,11046.62,27203.91,9233.82,10301.44,10919.64,0,11446.34,7298.58,73974.7,18549.87,58060.66,52529.83,20939.87,22794.42]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>borrower_name<\/th>\n      <th>borrower_address<\/th>\n      <th>borrower_city<\/th>\n      <th>date_approved<\/th>\n      <th>amount<\/th>\n      <th>forgiveness_amount<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 0, 3, \",\", \".\", true, null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 0, 3, \",\", \".\", true, null);\n  }"},{"className":"dt-right","targets":[5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
</div>
</div>
<p>One problem with the <code>DT</code> package is that the documentation is inscrutable if you don’t know Javascript. It is bare bones in R, and most Google searches send you to the Javascript documentation. I usually futz around and look for examples.</p>
</section>
<section id="interactive-tables-with-reactable" class="level2" data-number="23.1">
<h2 data-number="23.1" class="anchored" data-anchor-id="interactive-tables-with-reactable"><span class="header-section-number">23.1</span> Interactive tables with <code>reactable</code></h2>
<p>The <code>reactable</code> library is highly customizable, but it can involve a lot of typing to get a good table. The documentation is excellent and there are great examples in the wild. It was used to produce the table above that contained the sparklines.</p>
<p>The basic idea is that you select the columns you want to display, then define their format and other details one by one. There are several useful defaults for the whole table, such as the number format. One way to simplify the typing is to just create the names of the columns you want to see in a <code>select</code> statement, then put a default number format for the dollar amounts. A <a href="https://glin.github.io/reactable/reference/colDef.html">full list of options</a> is available on the help page for reactable.</p>
<div class="cell" data-code-annotations="hover">
<div class="sourceCode cell-code" id="annotated-cell-2"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-2-1"><a href="#annotated-cell-2-1" aria-hidden="true" tabindex="-1"></a>ppp_orig <span class="sc">|&gt;</span> </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-2-2" class="code-annotation-target"><a href="#annotated-cell-2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span> (</span>
<span id="annotated-cell-2-3"><a href="#annotated-cell-2-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">Borrower =</span> borrower_name, </span>
<span id="annotated-cell-2-4"><a href="#annotated-cell-2-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">City =</span> borrower_city, </span>
<span id="annotated-cell-2-5"><a href="#annotated-cell-2-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Zip code</span><span class="st">`</span> <span class="ot">=</span> borrower_zip, </span>
<span id="annotated-cell-2-6"><a href="#annotated-cell-2-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Loan amount</span><span class="st">`</span> <span class="ot">=</span> amount, </span>
<span id="annotated-cell-2-7"><a href="#annotated-cell-2-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Amt forgiven</span><span class="st">`</span> <span class="ot">=</span> forgiveness_amount</span>
<span id="annotated-cell-2-8"><a href="#annotated-cell-2-8" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="annotated-cell-2-9"><a href="#annotated-cell-2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reactable</span> (   </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-2-10" class="code-annotation-target"><a href="#annotated-cell-2-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">sortable =</span> <span class="cn">TRUE</span>,</span>
<span id="annotated-cell-2-11"><a href="#annotated-cell-2-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">filterable =</span> <span class="cn">TRUE</span>,</span>
<span id="annotated-cell-2-12"><a href="#annotated-cell-2-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">searchable =</span> <span class="cn">TRUE</span>,</span>
<span id="annotated-cell-2-13"><a href="#annotated-cell-2-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">defaultPageSize =</span> <span class="dv">5</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-2-14" class="code-annotation-target"><a href="#annotated-cell-2-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">compact =</span> <span class="cn">TRUE</span> ,</span>
<span id="annotated-cell-2-15"><a href="#annotated-cell-2-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">striped=</span><span class="cn">TRUE</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-2-16" class="code-annotation-target"><a href="#annotated-cell-2-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">defaultColDef =</span></span>
<span id="annotated-cell-2-17"><a href="#annotated-cell-2-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">colDef</span> ( </span>
<span id="annotated-cell-2-18"><a href="#annotated-cell-2-18" aria-hidden="true" tabindex="-1"></a>                <span class="at">format =</span> </span>
<span id="annotated-cell-2-19"><a href="#annotated-cell-2-19" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">colFormat</span> ( <span class="at">currency=</span><span class="st">"USD"</span>, <span class="at">separators =</span> <span class="cn">TRUE</span>, <span class="at">digits =</span> <span class="dv">0</span>)</span>
<span id="annotated-cell-2-20"><a href="#annotated-cell-2-20" aria-hidden="true" tabindex="-1"></a>                )</span>
<span id="annotated-cell-2-21"><a href="#annotated-cell-2-21" aria-hidden="true" tabindex="-1"></a>     )</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-2" data-target-annotation="1">1</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-2" data-code-annotation="1">using the <code>select</code> verb that we’ve already seen, pick out the columns for the table and rename them. Don’t forget the back-ticks if you need something with more than one word.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="2">2</dt>
<dd>
<span data-code-lines="10" data-code-cell="annotated-cell-2" data-code-annotation="2">Set the options for sorting, filtering, and searching.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="3">3</dt>
<dd>
<span data-code-lines="14" data-code-cell="annotated-cell-2" data-code-annotation="3">I usually use the “compact” style because I’m trying to fit as much in the table as possible.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="4">4</dt>
<dd>
<span data-code-lines="16,19" data-code-cell="annotated-cell-2" data-code-annotation="4">Define how numbers will show up by default. You can change this for individual columns.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4d9d71bda79a540b5c54" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4d9d71bda79a540b5c54">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Borrower":["JORDAN MACKNER","SURGERY CENTER MANAGEMENT SERVICES LLC","GYPSY LEAF COUNSELING SERVICES LLC","PEST PATROL","MESA COUNTRY CLUB INC","WAITE RESEARCH LLC","A NYAH PITTS","RONALD HUMPHREY","ENIS JASHARI","TIMOTHY HARRIS","WELL TRAVERSED LLC","ARMORED OUTDOOR GEAR INC","ERIC GRAHAM PLLC","WATERFALL CREATIONS LLC","PEASLEY INC LLC","KENNETH WENG","WIRELESS EXPRESS LLC","SPECIALTY AUTO FINDERS LLC","TRY DESIGN LLC","RADIANT HEALTH NAUTRAL MEDICAL CENTER","PRECISION INSTALLATION INC","SALLIEU SESAY","STEVEN E WRIGHT DDS","DOUGLAS FAMILY CARE LLC","CERTISTAR INC","MILE HIGH HOSPITALITY LLC","EVERGREEN PEST CONTROL LLC","DANG BROTHER ARIZONA LLC","PARKSIDETECH LLC","GARDNERS GALLERY","BRENBECKE INC","ADRIS BARBER AND BEAUTY SALON LLC","GYDHC INC","RANGO INC","Z ELECTRIC LLC","KIMBERLY TRAN","SHELLEY GARLEY","PC REPROGRAPHICS LLC","GEOFFREY BOADU","MINDFUL MASSAGE LLC","EMBASSY TIRE AND WHEEL LLC","VALENCIA WASHINGTON","DANIVILLA LLC","TICKETS UNLIMITED INC","CS CORE LLC","VICTORY CROSSING LLC","BRET ISBELL PLLC","REMEDIA PUBLICATIONS INC","RJEN LLC","TRANSPORTE SAGASTUME","DOUBLE S STEAKHOUSE LLC","HAPPY HOME CARE LLC","JOHN ROBERTS ARCHITECTS","MELISSA MILLER","VALENTINE FINANCIAL SOLUTIONS","INTEGRATED PHYSICAL THERAPY INC","CELLAR DOOR SALON","TRENTON MAGUIRE","SWPT ANESTHESIA PC","PATTON EMPIRE LLC","ARIZONA CORPORATE EVENTS INC","ARIZONA NEURORECOVERY TREATMENT INNOVATION CENTER LLC","POOLCAREONE LLC","NAJIBULLAH AHMADI","JOESPH B OWENS LLC","JUST WEDDINGS DJ SERVICE","PITCO LTD","DENALI NAILS EYEBROW THREADING","ARIZONA CAMERA RENTALS LLC","DESERT FOOTHILLS ACCOUNTING TAX BLAKE COMISH CPA LLC","CONTESSA CASTANEDA","JERRY ULIBARRI","SONORA TACOS Y MARISCOS INC","LOCKETT VENTURES LLC","SCIENTIFIC COMMODITIES INC","SUE SONS TESTING LAB LLC","BATES PAVING AND SEALING INC","EFFECTIVE SOLUTIONS LLC","S L CLEANING SYSTEMS LLC","NICHOLE KENNELLY","NTEGRATE IT ADVISORS LLC","RWSW HOLDINGS INC","KENZIE KEYES","RAMINDERPAL SINGH GULATI DBA GUADALUPE MARKET","JOSEPHUNGER INC","MOBILE LOCK KEY LLC","STRENGTH OF AMERICA INC","YOUR MEDICARE HELPER LLC","ROBERT CROCKETT","VIKRAM BADRINATH PC","ANGELA BENFER","CITY WIDE ROOTER SERVICE CO","VIDEO CONVERSION EXPERTS INC","DEONTE BALL","ELLIXSON HOLDINGS LLC","EVANGELINA LEYVA","WILLIAM GREGOR","49ER MINERALS INC","FINEDREADLOCS LLC","ENCHANTED HOME MONTESSORI SCHOOL LLC","BEYOND THE CLIPPER LLC","DARRIUS BROWN","SEAN W MCKENNA","SHERLOCK CUSTOM HOMES LLC","DC FAMILY PLUMBING LLC","THE EPISCOPAL PARISH OF ST BARNABAS ON THE DESERT","RANDALL S PRUST MD PC","1ST AUTOS LLC","THE WELLNESS TREE PLC","TEMPE DESERT PROPERTIES LLC","VETTAZ BETTA","SOMMER DENTAL CARE PC","KRYSTAL CORRADINO","JAMIE LAURENSON","TIGER A LLC","DAVID MCINTYRE","ALLEGIANT HEALTHCARE WEST LLC","D AND M NELSON ENTERPRISES LLC","POLISH ME PRETTY SALON AND SPA LLC","JJG RESTAURANTS INC","JASON SCOTT COLLECTIONS INC","DONALD HECKLE","ARM OF SAVE THE FAMILY FOUNDATION","SIGIFREDO MARRUFO","ALEATHER JACKSON","MARLA CLEMIT","ASHIA STEVENS","RDK CPA LLC","ABDUL AMUSAN","BRIANNA TORREZ","FELICITA MORALES","ROSS HURT","GORDIAN SEMICONDUCTOR PACKAGING LLC","JOSHUA SCHACHTER","MAA SHAKTI LLC","HEAVENLY CAKE POPS LLC","JC BUSINESS CONSULTING LLC","DAVID P LYONS","DYNAMITE FITNESS","MORE SERVICES CPA PLLC","WILLIAMS DECOMMISSIONING AND PROJECT MANAGEMENT SERVICES","DKA INC","STARLING MADISON LOFQUIST INC","FOX BUTTE GROWERS","MARY MARGARET HURTADO","FRENCH RADIANCE ESTHETICS LLC","WESTERN MOUNTAIN MEDICAL CENTER PC","GLORIA GOMEZ DE LOS RIOS","SKY ISLAND ALLIANCE","PDLLC","DYNAMIC WATER TECHNOLOGIES LLC","ADAB LLC","ACCUSERVE TRANSPORT LLC","SHADII CO","GOLD STAR PUMPING INC","DOCTOR SMILES ORTHODONTICS PLLC","FLETCHER HEIGHTS DENTAL CARE PC","DAVES COLLISION SPECIALISTS","WHEELER AIR CONDITIONING INC","AFFILIATED AUDIOLOGY CONSULTANTS INC","CENTERED SOUL COUNSELING LLC","JOSEPH HATCH","METRO STUDIO","CAMEON ELAM","HERMAN LEE","GIGI BRIDAL LLC","SAIDAH THOMAS","PHOENIX FIRE RESTORATION LLC","LASALA MEDICAL LLC","KYMBERLI MILLER","MAJOR CATTLE COMPANY LLC","DREAM CATCHER ASSISTED LIVING HOME LLC","SIA BOTANICS LLC","MISHKA LLC","DEANNA PETERS PLLC","TENANTS ASSISTANCE PROGRAM","SIGMA COLLEGE UNIVERSITY TRADE SCHOOLS","AMANA TRADING LLC","WILLIAMS AVIATION CONSULTANTS INC","SHANER INSURANCE GROUP INC","NUVISION EXCEL PLLC","SKY CORNER STUDIOS","POWER QUALITY INCORPORATED","SPITTFIRE EXPRESS LLC","JJI LIMITED LIABILITY COMPANY","STACEY D MCCLURE MD PLLC","JOURDYN WILLIAMS","HOPI TRIBE ECONOMIC DEVELOPMENT CORPORATION","SHAWNA MARIE FOSTER","INNOVATIVE DESIGN BUILD LLC","DJB ANESTHESIA SERVICES","GROOVE BABE TIE DYE","OSCAR GURROLA PIEDRA","MESA HISTORICAL SOCIETY INC","MESA RENTAL CENTER","CHANDLER FLOWERS INC","PEAK CONTRACTING LLC","ROBERT JONES","ARIEL STAFFORD","BIRKETT HALBERT APPRAISERS","ARIZONA DISPENSING SPECIALISTS LLC","CITRUS VALLEY DENTAL CARE","BRETT HUDNELL","MITCHELL TACKETT","ELBASAN INC","HAROLD WIDEMAN","VA CARE","TALAS HARBOR AT BULLHEAD CITY","DENALI REAL ESTATE LLC","CONTACT ELECTRIC LLC","MR CLEAN LLC","RS FLEET SOLUTIONS","ALTRUISTIX NURSING SERVIC","ACCLAIMED STAFFING LLC","HUE NGUYEN","DAVE RICE UPHOLSTERY","FRANK PARISE CPA PLLC","HUNTER MATTHEW PEEK PLLC","ROBIN SMITH","THAIRAPY SALON LLC","MICHELLE ORTIZ","SPF RETAIL LLC","CREATIVE WORKS CONSULTING LLC","AG FOODS LLC","THOMAS BART ENTERPRISES INC","TERENCE PERKINS","SONIC DRIVEIN GLENDALE AZ GLENDALE AVE LLC","GARY GERMANY","BRENDAN HANARD","J BRIDAL BOUTIQUE LLC","KM LEADERSHIP SOLUTIONS LLC","TS FINANCIAL AND TAX SERVICES","POLLY GWEN BLACKWELL PLLC","HAPPY LEARNERS LLC","DALVIN WILLIAMS","WENJOY LLC","TUCSON HOP SHOP","WE MEAN TO CLEAN LLC","ALEXUS DIBRELL","PURPLE VENTURES III LLC","ARIZONA CHILD PSYCHOLOGY CTR","MICHELLE BEFFRE","MICHAEL R GRASSMYER","JEREMY CASTILLO","LETSON PARTNERS LLC","AGAPE WELLNESS LLC","JHC CUSTOM LLC","STEVECOLBETHCOM LLC DBA TS4MO","PAUL STILLMAN CONSULTING","RM GARRISON MACHINING VALLEY MACHINE WORKS","AVA FITZLOFF","BRICE WILTGEN DC PLLC","H2OLOGY INC","TATUM INSURANCE LLC","PRECISION SPINE SPORTS REHABILITATION","CARLA WHITTEN ANDREW WHITTEN PC","VICTOR RILLING","KRYSTLE HAMPTON","HARTE MASONRY INC","MMP GROUP LLC","ANIMAL SPECIALTY GROUP OF SCOTTSDALE PLC","DAVID TOOVEY","MORRISON CONSULTING LLC","GENE THIEL","BROTHERS POOL SERVICE REPAIR LLC","THE JOURNEY OF ME LLC DBA ANNETTE HILL LPC","DEREK PEREZ MEDIA LLC","FAITH BUILDERS INTL MINISTRIES OF PHOENI","BREADS AND FRIENDS LLC","TEE JAY PETROLEUM LLC","ADRIANNA DOUGLAS","CHRISTOPHER D SOTO PLC","LU PRACTICE PLLC","ONYX INTEGRATIVE MEDICINE AND ACUPUNCTUR","MT ARTS LLC"],"City":["Phoenix","Mesa","Sierra Vista","Glendale","Mesa","Chandler","Avondale","Chandler","Scottsdale","Avondale","Chandler","Flagstaff","Fountain Hills","San Tan Valley","Williams","Fountain Hills","Phoenix","Peoria","Scottsdale","Gilbert","Phoenix","Phoenix","Sedona","Douglas","Tempe","Mesa","Glendale","Tempe","Phoenix","Goodyear","Glendale","Phoenix","Gilbert","Mesa","Phoenix","Sierra Vista","Phoenix","Scottsdale","Phoenix","Phoenix","Tucson","Phoenix","Tucson","Scottsdale","Phoenix","Gilbert","Scottsdale","Scottsdale","Tucson","Glendale","Willcox","Phoenix","Rio Verde","Tucson","Chandler","Phoenix","Phoenix","Mesa","Scottsdale","Chandler","Gilbert","Mesa","Mesa","Glendale","Phoenix","Phoenix","Scottsdale","Safford","Surprise","Flagstaff","Mesa","Gilbert","Lake Havasu City","Phoenix","Lake Havasu City","Chandler","Tucson","Scottsdale","Phoenix","Williams","Peoria","Scottsdale","Buckeye","Guadalupe","Tucson","Tucson","Mesa","Cottonwood","Phoenix","Tucson","Scottsdale","Tempe","Chandler","Phoenix","Tempe","Yuma","Phoenix","Scottsdale","Glendale","Glendale","Phoenix","Glendale","Phoenix","Phoenix","Gilbert","Paradise Valley","Tucson","Mesa","Chandler","Scottsdale","Buckeye","Cave Creek","Phoenix","Queen Creek","Laveen","Phoenix","Mesa","Winslow","Tempe","Gilbert","Phoenix","Glendale","Mesa","Mesa","Mesa","Tucson","Casa Grande","Mesa","Phoenix","Mesa","Yuma","Scottsdale","Gilbert","Tucson","Flagstaff","Surprise","Phoenix","Glendale","Flagstaff","Phoenix","Peoria","Scottsdale","Phoenix","Stanfield","Peoria","Buckeye","Bullhead City","Tucson","Tucson","Chandler","Scottsdale","Apache Junction","Phoenix","Phoenix","Tucson","Tucson","Peoria","Casa Grande","Gilbert","Phoenix","Phoenix","Mesa","Flagstaff","Avondale","Phoenix","Tucson","Phoenix","Gilbert","Scottsdale","Surprise","Prescott","Scottsdale","Tucson","Goodyear","Phoenix","Tempe","Phoenix","Tucson","Queen Creek","Tucson","Phoenix","Phoenix","Yuma","El Mirage","Scottsdale","Phoenix","Phoenix","Flagstaff","Phoenix","Phoenix","Chandler","Tempe","Phoenix","Mesa","Mesa","Chandler","Scottsdale","Phoenix","Phoenix","Flagstaff","Phoenix","Mesa","Payson","Mesa","Glendale","Phoenix","Tucson","Bullhead City","Mesa","Phoenix","Phoenix","Snowflake","Tucson","Chandler","Phoenix","Youngtown","Tucson","Scottsdale","Casa Grande","Goodyear","Thatcher","Phoenix","Yuma","Prescott","Scottsdale","Avondale","Glendale","Phoenix","Phoenix","Tucson","Phoenix","Tucson","Phoenix","Gilbert","Tempe","Cave Creek","Tucson","Phoenix","Chandler","Scottsdale","Phoenix","Payson","Glendale","Sahuarita","Bisbee","Gilbert","Glendale","Chandler","Marana","Phoenix","Mesa","Surprise","Gilbert","Scottsdale","Mesa","Scottsdale","Phoenix","Mesa","Glendale","Chandler","Scottsdale","Phoenix","Yuma","Tucson","Scottsdale","Phoenix","Phoenix","Phoenix","Chandler","Chandler","Peoria","Tempe","Chandler","Gilbert","Colorado City"],"Zip code":["85016","85215","85635","85318","85201","85225","85392","85249","85251","85323","85224","86001","85268","85140","86046","85268","85051","85381","85251","85296","85044","85035","86336","85607","85283","85209","85308","85282","85027","85395","85307","85009","85298","85215","85028","85635","85033","85260","85085","85016","85756","85020","85748","85251","85004","85234","85254","85260","85713","85302","85643","85017","85263","85704","85226","85050","85085","85208","85260","85225","85297","85215","85213","85308","85033","85083","85253","85546","85374","86001","85203","85298","86403","85018","86406","85244","85713","85258","85041","86046","85382","85251","85396","85283","85704","85711","85215","86326","85003","85701","85251","85283","85286","85007","85281","85364","85029","85257","85301","85310","85008","85301","85008","85022","85234","85253","85712","85207","85286","85251","85326","85331","85029","85142","85339","85044","85204","86047","85283","85297","85019","85301","85201","85201","85203","85715","85193","85205","85029","85201","85365","85254","85298","85705","86001","85388","85028","85308","86004","85050","85383","85266","85040","85172","85381","85396","86442","85730","85701","85225","85260","85120","85008","85085","85743","85711","85382","85122","85295","85028","85016","85204","86005","85392","85016","85711","85019","85233","85255","85379","86305","85254","85716","85338","85050","85281","85013","85719","85142","85741","85028","85029","85365","85335","85251","85027","85041","86004","85083","85008","85249","85282","85035","85203","85205","85225","85250","85023","85032","86001","85040","85206","85541","85204","85308","85053","85747","86429","85206","85042","85027","85937","85719","85286","85032","85363","85750","85251","85122","85395","85552","85041","85364","86301","85258","85323","85301","85040","85028","85718","85028","85710","85024","85295","85281","85331","85716","85028","85226","85251","85020","85541","85306","85629","85603","85296","85302","85225","85658","85007","85215","85374","85233","85258","85206","85266","85003","85209","85308","85286","85255","85019","85367","85711","85254","85028","85054","85022","85226","85286","85345","85282","85224","85233","86021"],"Loan amount":[23900,142500,3257,21000,469900,9520,8332,6715,13816,20832,5491,87000,14165,18526,2449,20052,45099,6770,16185,27976,461800,939,34130,49527,52812,194297,76808,9977,68425,41666.65,355906,4100,40907,5785868.4,24112,1285.97,5327,13800,3992,7360,115182,20000,3325,74590,32285,12777,20832,39755,98700,4655,63423,201600,17400,6392,8750,36700,5160,13541,62962,6547,36465,31623,7590,16972,45800,4563,55780,2875.28,11875,28500,15625,20832,49198,13204,61292,23640,311713,11605,4542,1559.28,31350,617816,15625,22215,8332,32002,9807,17500,20833,26099.58,20833,43300,33722,20832,20833,3729,20833,8750,20406,13800,6986.45,19791,20833,28130,26593,240900,280861.6,5000,73155,5186,11457,26337,8250,14165,2471,4832,2232000,8632,21125,90004.69,12500,15361,22310,17083,20127.5,3447,5996,20833,18125,20833,500,1441,20832,4092,15841,10000,7337,5839.6,12400,6250,36000,42804,405935,56575,22130,2092,165000,2938,102932,4381,145890,183300,4200,92195.91,29550,70000,101916,95932,312915,68600,4166.67,13500,15905,20437,16875,10908,20416,68557,8120,29166,18941,37928,72144.6,10417,1296,16327,526500,23209,29052,12336.54,27875,45873,15098,2065,197480,35617,9375,340900,7400,20757,45000,3012,20800,32792,22000,3808,13845,20833,6250,7180,29845,24300,8750,14697,75000,18750,3343,263019,85587,28332,10000,5608.95,81713,15635,4271.67,11507,20832,1200,19375,6752,1759,138202,20900,106000,31500,20833,87800,20832,15979,27100,9709.3,20832,1785,90947,20447,243800,49510,42500,20002,35968,10563.34,6250,20822,18000,14600,20800,2483,5255,3300,228300,10158.34,15062,71900,38400,20833,12500,85300,20812.5,55193.92,86400,103562,10995,26962,9187,10200,10812.5,3500,11288,7185,73200,18343,57567,52100,20832,22600],"Amt forgiven":[24180.16,143861.67,3269.03,21182.58,472758.02,9567.86,8363.01,6734.4,13875.81,20918.22,5545.61,87798.49,14289.16,18663.55,2462.96,0,45295.68,6853.85,16351.54,28277.22,465840.75,951.81,34404.91,49782.89,53115.85,195732.64,77576.08,10010.26,69021.82,41807.06,357641.65,4147.72,41263.4,5851494.41,0,1294,5364.36,13880.15,4009.94,7388.01,116671.48,20129.44,3349.32,75097.63,32559.2,12928.9,20925.6,40078.49,99240.11,4682.54,63733.07,202893.6,17560.47,6454.52,8797.47,37179.14,5229.27,13565.11,63341.5,6634.35,36707.77,29951.06,7682.56,17058.27,46473.82,4592.63,56236.94,2899.39,12035.97,28703.79,15665.24,21006.76,49851.73,13289.83,61825.92,23854.94,314633.71,11843.46,4581.11,1577.65,31679.17,624576.97,0,22538.54,8427.59,32264.15,9908.03,17702.94,0,26295.33,20860.78,43587.46,34045.36,20941.01,21016.79,3741.97,0,8829.08,20578.88,13950.65,7025.26,19864.12,20923.75,28519.77,26998.82,242365.2,282361.49,5071.78,73856.07,5213.28,11498.37,26638.61,8344.71,14231.1,0,4881.11,2265877.48,8690.51,21298.05,90784.73,12619.18,15455.73,22508.04,17134.48,0,0,6031.48,21001.95,0,20875.81,501.38,1461.45,20968.41,4133.37,15976.84,10063.89,7393.69,5890.05,12524.34,6285.45,36209.1,43119.46,408465.55,57233.75,0,0,165980.96,2954.74,103531.64,4438.25,147470.64,184506.73,4236.71,3107.34,29811.02,70750.56,102943.54,0,315531.32,69492.74,4177.09,4861.36,14784.47,20706.88,17016.47,11003.03,0,69014.24,8242.36,29280.23,19113.8,38426.78,72775.26,10476.65,1319,16485.67,0,23346.32,29288.47,0,28019.02,46558.55,15299.86,2086.27,198367.31,36156.08,9425,342992.1,7461.63,20866.55,45325,0,20936.36,32977.68,22234.47,3840.03,13925.41,0,6288.19,0,30179.43,24618.9,8811.01,14771.71,75667.62,18839.38,3363.52,265999.88,86424.11,28779.1,10096.64,5653.82,82680.12,15762.22,4304.79,11622.71,20946.72,1208,19502.4,6840.41,1774.66,138754.81,21016.45,106757.97,31767.75,20931.17,88699.95,20930.17,0,27341.24,9792.37,0,1792.44,91672.05,0,246535.98,49911.58,0,20059.23,36415.38,10635.98,6281.25,0,0,14700.4,0,2512.8,4277.62,3321.97,229910.78,10232.37,15139.58,72423.98,38657.75,21060.74,12602.74,85844.97,20908.47,55670.73,87264,104562.81,11046.62,27203.91,9233.82,10301.44,10919.64,0,11446.34,7298.58,73974.7,18549.87,58060.66,52529.83,20939.87,22794.42]},"columns":[{"id":"Borrower","name":"Borrower","type":"character","format":{"cell":{"digits":0,"separators":true,"currency":"USD"},"aggregated":{"digits":0,"separators":true,"currency":"USD"}}},{"id":"City","name":"City","type":"character","format":{"cell":{"digits":0,"separators":true,"currency":"USD"},"aggregated":{"digits":0,"separators":true,"currency":"USD"}}},{"id":"Zip code","name":"Zip code","type":"character","format":{"cell":{"digits":0,"separators":true,"currency":"USD"},"aggregated":{"digits":0,"separators":true,"currency":"USD"}}},{"id":"Loan amount","name":"Loan amount","type":"numeric","format":{"cell":{"digits":0,"separators":true,"currency":"USD"},"aggregated":{"digits":0,"separators":true,"currency":"USD"}}},{"id":"Amt forgiven","name":"Amt forgiven","type":"numeric","format":{"cell":{"digits":0,"separators":true,"currency":"USD"},"aggregated":{"digits":0,"separators":true,"currency":"USD"}}}],"filterable":true,"searchable":true,"defaultPageSize":5,"striped":true,"compact":true,"dataKey":"7c42b9ce9e922092a4ad08197e7abecf"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>It’s a lot of typing for something so simple, but I save it as a code snippet in RStudio and use a shortcut to paste it into a code chunk.</p>
<p>There is much, much more that reactable tables can do (like <a href="https://glin.github.io/reactable/articles/womens-world-cup/womens-world-cup.html">this</a>), but this is a good start toward something readable and presentable to your colleagues. It is also possible to create collapsable rows for large tables, and total rows at the bottom.</p>
</section>
<section id="crosstabs-with-the-janitor-library" class="level2" data-number="23.2">
<h2 data-number="23.2" class="anchored" data-anchor-id="crosstabs-with-the-janitor-library"><span class="header-section-number">23.2</span> Crosstabs with the <code>janitor</code> library</h2>
<p>We’ve gone through the exercise of creating a grouping, counting, then computing a percentage of total using our usual verbs. The <code>janitor</code> package provides a utility for doing that.</p>
<p>Here’s an example with the full PPP dataset:</p>
<p>The <code>tabyl</code> function does one and only one thing: Count and compute percentages of totals. It creates an output data frame that you can style any way you want. You can do 1-, 2- or 3-way tables, but no more. This example creates the table, then formats it using a datatable as above.</p>
<section id="a-simple-one-way-table" class="level3">
<h3 class="anchored" data-anchor-id="a-simple-one-way-table">A simple one-way table</h3>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-3"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-3-1"><a href="#annotated-cell-3-1" aria-hidden="true" tabindex="-1"></a>ppp <span class="sc">|&gt;</span> </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-3-2" class="code-annotation-target"><a href="#annotated-cell-3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span> ( lender ) <span class="sc">|&gt;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-3-3" class="code-annotation-target"><a href="#annotated-cell-3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span> ( <span class="fu">desc</span> (percent)) <span class="sc">|&gt;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-3-4" class="code-annotation-target"><a href="#annotated-cell-3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span> (<span class="dv">5</span>) <span class="sc">|&gt;</span></span>
<span id="annotated-cell-3-5"><a href="#annotated-cell-3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span> (   </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-3-6" class="code-annotation-target"><a href="#annotated-cell-3-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> <span class="cn">FALSE</span></span>
<span id="annotated-cell-3-7"><a href="#annotated-cell-3-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-3-8" class="code-annotation-target"><a href="#annotated-cell-3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatPercentage</span> (<span class="st">"percent"</span>) <span class="sc">|&gt;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-3-9" class="code-annotation-target"><a href="#annotated-cell-3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span> (<span class="at">columns =</span><span class="st">"n"</span>,  <span class="at">digits=</span><span class="dv">0</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-3" data-target-annotation="1">1</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-3" data-code-annotation="1">Create a one-way data table with count (n) and percent</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="2">2</dt>
<dd>
<span data-code-lines="3" data-code-cell="annotated-cell-3" data-code-annotation="2">Sort it from highest to lowest</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="3">3</dt>
<dd>
<span data-code-lines="4" data-code-cell="annotated-cell-3" data-code-annotation="3">Keep only the top 5,</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="4">4</dt>
<dd>
<span data-code-lines="6" data-code-cell="annotated-cell-3" data-code-annotation="4">create our default datatable</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="5">5</dt>
<dd>
<span data-code-lines="8" data-code-cell="annotated-cell-3" data-code-annotation="5">Format the percentages</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="6">6</dt>
<dd>
<span data-code-lines="9" data-code-cell="annotated-cell-3" data-code-annotation="6">Format the raw numbers</span>
</dd>
</dl>
</div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a1b19905f38c32af2110" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a1b19905f38c32af2110">{"x":{"filter":"none","vertical":false,"data":[["JPMorgan Chase Bank, National Association","Bank of America, National Association","Wells Fargo Bank, National Association","Prestamos CDFI, LLC","Zions Bank, A Division of"],[17148,11702,10679,9508,8328],[0.101312190193727,0.0691366485681707,0.0630926568158857,0.0561742654748049,0.0492027011857567]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>lender<\/th>\n      <th>n<\/th>\n      <th>percent<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":1,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatPercentage(data, 0, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[1,2]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
</div>
</div>
<section id="two-way-table-with-tabyls" class="level4">
<h4 class="anchored" data-anchor-id="two-way-table-with-tabyls">Two-way table with tabyls</h4>
<p>That’s good, but we have wanted some 2-way tables, the way we did in the group by chapter. Here’s an example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>ppp <span class="sc">|&gt;</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span> ( loan_status, draw)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["loan_status"],"name":[1],"type":["chr"],"align":["left"]},{"label":["First"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Second"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Active Un-Disbursed","2":"3","3":"0"},{"1":"Exemption 4","2":"13573","3":"3898"},{"1":"Paid in Full","2":"115139","3":"36646"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This just created the simple counts. There are some “adorn” functions in the package that let you work with the numbers and percentages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-5"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-5-1"><a href="#annotated-cell-5-1" aria-hidden="true" tabindex="-1"></a>ppp <span class="sc">|&gt;</span> </span>
<span id="annotated-cell-5-2"><a href="#annotated-cell-5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span> (loan_status, draw) <span class="sc">|&gt;</span> </span>
<span id="annotated-cell-5-3"><a href="#annotated-cell-5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span> (<span class="fu">c</span>(<span class="st">"row"</span>, <span class="st">"col"</span>)) <span class="sc">|&gt;</span> </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-5-4" class="code-annotation-target"><a href="#annotated-cell-5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>(<span class="st">"col"</span> ) <span class="sc">|&gt;</span></span>
<span id="annotated-cell-5-5"><a href="#annotated-cell-5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span> (<span class="at">digits=</span><span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="annotated-cell-5-6"><a href="#annotated-cell-5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_ns</span>() <span class="sc">|&gt;</span> </span>
<span id="annotated-cell-5-7"><a href="#annotated-cell-5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_title</span> () </span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-5" data-target-annotation="1">1</dt>
<dd>
<span data-code-lines="4" data-code-cell="annotated-cell-5" data-code-annotation="1">Change “col” to “row” if you want it to add to 100% across rather than down; “all” if you want it to be a percent of the grand total.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":[1],"type":["chr"],"align":["left"]},{"label":["draw"],"name":[2],"type":["chr"],"align":["left"]},{"label":[""],"name":[3],"type":["chr"],"align":["left"]},{"label":[""],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"loan_status","2":"First","3":"Second","4":"Total"},{"1":"Active Un-Disbursed","2":"0%       (3)","3":"0%      (0)","4":"0%       (3)"},{"1":"Exemption 4","2":"11%  (13,573)","3":"10%  (3,898)","4":"10%  (17,471)"},{"1":"Paid in Full","2":"89% (115,139)","3":"90% (36,646)","4":"90% (151,785)"},{"1":"Total","2":"100% (128,715)","3":"100% (40,544)","4":"100% (169,259)"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This is not a very well documented or developed package, and it balks at giving the “adorn” commands out of order. So sometimes it’s not all that helpful, but it does create good crosstabs quickly.</p>
</section>
</section>
</section>
<section id="static-tables-with-gt" class="level2" data-number="23.3">
<h2 data-number="23.3" class="anchored" data-anchor-id="static-tables-with-gt"><span class="header-section-number">23.3</span> Static tables with gt</h2>
<p>Section TK.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./vis-reporting.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Visualization as a reporting tool</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./vis-demo.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Visualization demo</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Data reporting for investigative journalism, Spring 2024, written by Sarah Cohen</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">Produced with <a href="https://quarto.org">Quarto</a></div>
  </div>
</footer>



</body></html>